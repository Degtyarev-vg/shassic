'use strict';

$(function () {

  // Magnific Popup
  // $('.popup-with-move-anim').magnificPopup({
  $('.popup-with-zoom-anim').magnificPopup({
    type: 'inline',

    fixedContentPos: false,
    fixedBgPos: true,

    overflowY: 'auto',

    closeBtnInside: true,
    preloader: false,

    midClick: true,
    removalDelay: 300,
    // mainClass: 'my-mfp-slide-bottom'
    mainClass: 'my-mfp-zoom-in'
  });
});

'use strict';

$(function () {

  function eventCheck(e) {
    var container = $('.top-menu ul');

    if (!container.is(e.target) && container.has(e.target).length === 0 && !$(e.target).hasClass('hamburger') && !$(e.target).hasClass('hamburger__btn')) {
      container.fadeOut();

      $('.hamburger').find('.hamburger__btn').removeClass('hamburger__btn_on');
    }
  }

  function regulationsForMq(mq) {
    if (mq.matches) {
      $('.hamburger').click(function () {
        $(this).find('.hamburger__btn').toggleClass('hamburger__btn_on');

        $('.top-menu ul').slideToggle();

        return false;
      });

      document.addEventListener('touchstart', eventCheck, false);
      document.addEventListener('click', eventCheck, false);
    }
  }

  var mq = window.matchMedia('screen and (max-width: 992px)');

  mq.addListener(regulationsForMq);

  regulationsForMq(mq);
});

'use strict';

$(function () {

  $('.catalog__btn-more').click(function () {
    $('.catalog ul').addClass('catalog-open');

    $(this).css('display', 'none');
    return false;
  });
});

'use strict';

'use strict';

$(function () {

  $('input[name=quantity]').bind('change keyup input click', function () {
    if (this.value.match(/[^0-9]/g)) {
      this.value = this.value.replace(/[^0-9]/g, '');
    }
  });

  $('input[name=quantity]').bind('focusout', function () {
    var length = this.value.length;

    if (length < 1 || this.value == 0) {
      this.value = 1;
    }
  });
});

'use strict';

$(function () {

  $('.models__btn-more').click(function () {
    $('.models__inner').addClass('models__inner_open');

    $(this).css('display', 'none');
    return false;
  });
});

'use strict';

$(function () {

  var popularSlider = $('.section-popular__list').slick({
    infinite: true,
    fade: false,
    autoplay: false,
    speed: 300,
    slidesToShow: 3,
    swipeToSlide: true,
    dots: false,
    adaptiveHeight: false,
    arrows: true,
    appendArrows: $('.section-popular__navigation'),
    prevArrow: '<span class=\'section-popular__prev\'></span>',
    nextArrow: '<span class=\'section-popular__next\'></span>',
    responsive: [{
      breakpoint: 1310,
      settings: {
        slidesToShow: 2
      }
    }, {
      breakpoint: 768,
      settings: {
        slidesToShow: 1
      }
    }]
  });
});

'use strict';

$(function () {

  $('.product').each(function () {
    $(this).find('.product__img').each(function () {
      var img = $(this).find('img').attr('src');

      $(this).css({
        'background': 'url(' + img + ') center no-repeat',
        'background-size': 'cover'
      });
    });
  });

  $('.product__img-slider').each(function () {
    $(this).slick({
      infinite: true,
      fade: false,
      autoplay: false,
      speed: 300,
      slidesToShow: 1,
      swipeToSlide: true,
      dots: false,
      adaptiveHeight: false,
      arrows: true,
      appendArrows: $(this).parent().find('.product__navigation'),
      prevArrow: '<span class=\'product__prev\'></span>',
      nextArrow: '<span class=\'product__next\'></span>'
    });

    var slideQuantity = $(this).slick('getSlick').slideCount;

    if (slideQuantity > 1) {
      $(this).parent().find('.product__quantity-images').css({ 'display': 'inline-block' }).html(slideQuantity);
    }
  });
});